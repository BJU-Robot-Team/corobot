<launch>

<!--***** ROBOT *****-->

<!-- Note that it is assumed that if you don't have an explorer or a corobot 4 wheel drive you have a corobot 2 wheel drive -->
<arg name="Explorer" value="0"/> <!-- 1 if you have a Corobot Explorer, 0 if you have a Corobot Classic -->
<arg name="Corobot4WD" value="0"/> <!-- 1 if you have a Corobot with 4 Wheel Drive -->



<!--***** Phidget Interface Kit *****-->

<arg name="phidgetInterfaceKit" value="1"/> <!-- 1 if you have the Phidget Interface Kit, 0 if you don't -->
<arg name="rearBumper" value="0"/> <!-- 1 if you have some rear bumpers, 0 if you don't -->
<arg name="bwOutput" value="0"/> <!-- Index for the digital output used for the sonars. If no sonars are present, this value doesn't matter. -->
<arg name="strobeOutput" value="1"/> <!-- Index for the digital output used for the sonars. If no sonars are present, this value doesn't matter. -->
<arg name="lastSonarInput" value="-1"/> <!-- The last analog input index for the sonars. If no sonar are present, put this value to -1. If only one sonar is present, this value is the same as firstSonarInput -->
<arg name="firstSonarInput" value="-1"/> <!-- The first analog input index for the sonars. If no sonar are present, put this value to -1. If only one sonar is present, this value is the same as lastSonarInput -->
<arg name="battery" value="0"/> <!-- Index of the analog input for the battery(default = 0). -1 if this one is not present or the data doesn't have to be read -->
<arg name="irFront" value="1"/> <!-- Index of the analog input for the front infrared sensor(default = 1). -1 if this one is not present or the data doesn't have to be read -->
<arg name="irBack" value="2"/> <!-- Index of the analog input for the rear infrared sensor(default = 2). if this one is not present or the data doesn't have to be read -->
<arg name="encoders_inverted" value="0"/> <!-- 1 if you want to invert the encoders, 0 if not. This is used when the odometry give a negative x position when the robot moves forward-->
<arg name="motors_inverted" value="0"/> <!-- 1 if you want to invert the motors, 0 if not. This is used only in the case where the robot can turn properly but the forward and backward movement are inverted (by testing in the corobot_teleop package for example). It also invert the encoders at the same time-->



<!--***** IMU *****-->

<arg name="imu" value="1"/> <!-- 1 if you have a Phidget Spatial IMU, 0 if you don't -->



<group if="$(arg phidgetInterfaceKit)">
  	<node pkg="corobot_phidget_ik" name="phidget_interface_kit" type="corobot_phidget" output="screen">
    		<param name="rearBumper" type="bool" value="$(arg rearBumper)"/>
		<param name="bwOutput" type="int" value="$(arg bwOutput)"/>
		<param name="strobeOutput" type="int" value="$(arg strobeOutput)"/>
		<param name="lastSonarInput" type="int" value="$(arg lastSonarInput)"/>
		<param name="firstSonarInput" type="int" value="$(arg firstSonarInput)"/>
		<param name="battery" type="int" value="$(arg battery)"/>
		<param name="irFront" type="int" value="$(arg irFront)"/>
		<param name="irBack" type="int" value="$(arg irBack)"/> 
		<param name="motors_inverted" type="bool" value="$(arg motors_inverted)"/>
		<param name="encoders_inverted" type="bool" value="$(arg encoders_inverted)"/>
		<param name="imu" type="bool" value="$(arg imu)"/>
  	</node>
	<node pkg="corobot_state_tf" name="corobot_state_tf" type="corobot_state_tf">
		<param name="Explorer" type="bool" value="$(arg Explorer)"/>
		<param name="Corobot4WD" type="bool" value="$(arg Corobot4WD)"/>
		<param name="publish_odom_tf" type="bool" value="1"/>
	</node>
  </group>
</launch>
